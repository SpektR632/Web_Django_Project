{% extends "base.html" %}
{% block content %}
    <div class="row text-center text-dark 1h-2">
        <h4>Список книг</h4>
    </div>
    {% if books %}
    <table class="table table-striped table-bordered text-start">
        <thead>
        <tr>
            <th>Название</th>
            <th>Автор</th>
            <th>Жанр</th>
            <th>Обложка</th>
            <th>Показать обложку</th>
        </tr>
        </thead>
        <tbody>
            {% for book in books %}
                <tr>
                    <td><a href="{{ book.id }}">{{ book.title }}</a></td>
                    <td>{{ book.author }}</td>
                    <td>{{ book.genre }}</td>
                    <td><img src="{{ book.photo.url }}" alt="connect"
                                style="max-height:100px"></td>
                    <td><a href="{{ book.photo.url }}"
                            class="btn btn-primary"
                            target="blank">Показать</a></td>
                </tr>
            {% endfor %}

        </tbody>
    </table>
    {% else %}
        <p>В базе нет книг</p>
    {% endif %}
    <div class="pagination ">
        <span class="step-link text-center">
            {% if page_obj.paginator.num_pages > 1 %}
                {% if page_obj.has_previous %}
                    <a class="btn btn-light" href="?page=1">&laquo; Первая</a>
                    <a class="btn btn-light" href="?page={{ page_obj.previos_page_number }}">Предыдущая</a>
                {% endif %}

                <span class="current">
                    Стр. {{ page_obj.number }} из {{ page_obj.paginator.num_pages }}.
                </span>

                {% if page_obj.has_next %}
                    <a class="btn btn-light" href="?page={{ page_obj.next_page_number }}">Следующая</a>
                    <a class="btn btn-light" href="?page={{ page_obj.paginator.num_pages }}">Последняя &raquo;</a>
                {% endif %}
            {% endif %}
        </span>
    </div>
{% endblock content %}
